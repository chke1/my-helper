import{_ as ee,B as te,C as ne,D as ae,E as le,F as ie,n as P,G as oe,H as R,I as re,J as se,K as ue,L as ce}from"./index-027c1f63.js";import{c as de,a as me,e as $}from"./main/chunk-element-plus-b8cc1db0.js";import{_ as O,a as Y,d as pe,c as I,w as he,j as fe,ag as L,v as q,P as z,Q as F,W as V,U as ye,y as N,V as G,x as A,F as ve,a8 as be,u as J,T as K}from"./main/chunk-vue-32374f64.js";import"./main/chunk-vue-router-c3f0a4ff.js";import"./main/chunk-fingerprintjs-cb838e3e.js";import"./main/chunk-sortablejs-be94e56d.js";import"./main/chunk-lodash-es-21c98b27.js";function xe(){const a=[];function v(m){return a.push(()=>{}),this}function u(m){return a.push(()=>{setTimeout(()=>{},m)}),this}function o(m){return a.push(()=>new Promise(h=>{setTimeout(h,m)})),this}async function i(){for(let m of a)await m()}return{print:v,wait:u,sleep:o,execute:i}}var Q={exports:{}};(function(a,v){(function(u,o){a.exports=o()})(de,function(){var u,o,i=1e3,m=6e4,h=36e5,c=864e5,t=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d=31536e6,w=2592e6,W=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,C={years:d,months:w,days:c,hours:h,minutes:m,seconds:i,milliseconds:1,weeks:6048e5},_=function(s){return s instanceof T},D=function(s,n,e){return new T(s,e,n.$l)},M=function(s){return o.p(s)+"s"},H=function(s){return s<0},l=function(s){return H(s)?Math.ceil(s):Math.floor(s)},b=function(s){return Math.abs(s)},p=function(s,n){return s?H(s)?{negative:!0,format:""+b(s)+n}:{negative:!1,format:""+s+n}:{negative:!1,format:""}},T=function(){function s(e,r,f){var y=this;if(this.$d={},this.$l=f,e===void 0&&(this.$ms=0,this.parseFromMilliseconds()),r)return D(e*C[M(r)],this);if(typeof e=="number")return this.$ms=e,this.parseFromMilliseconds(),this;if(typeof e=="object")return Object.keys(e).forEach(function(k){y.$d[M(k)]=e[k]}),this.calMilliseconds(),this;if(typeof e=="string"){var x=e.match(W);if(x){var g=x.slice(2).map(function(k){return k!=null?Number(k):0});return this.$d.years=g[0],this.$d.months=g[1],this.$d.weeks=g[2],this.$d.days=g[3],this.$d.hours=g[4],this.$d.minutes=g[5],this.$d.seconds=g[6],this.calMilliseconds(),this}}return this}var n=s.prototype;return n.calMilliseconds=function(){var e=this;this.$ms=Object.keys(this.$d).reduce(function(r,f){return r+(e.$d[f]||0)*C[f]},0)},n.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=l(e/d),e%=d,this.$d.months=l(e/w),e%=w,this.$d.days=l(e/c),e%=c,this.$d.hours=l(e/h),e%=h,this.$d.minutes=l(e/m),e%=m,this.$d.seconds=l(e/i),e%=i,this.$d.milliseconds=e},n.toISOString=function(){var e=p(this.$d.years,"Y"),r=p(this.$d.months,"M"),f=+this.$d.days||0;this.$d.weeks&&(f+=7*this.$d.weeks);var y=p(f,"D"),x=p(this.$d.hours,"H"),g=p(this.$d.minutes,"M"),k=this.$d.seconds||0;this.$d.milliseconds&&(k+=this.$d.milliseconds/1e3);var U=p(k,"S"),Z=e.negative||r.negative||y.negative||x.negative||g.negative||U.negative,X=x.format||g.format||U.format?"T":"",E=(Z?"-":"")+"P"+e.format+r.format+y.format+X+x.format+g.format+U.format;return E==="P"||E==="-P"?"P0D":E},n.toJSON=function(){return this.toISOString()},n.format=function(e){var r=e||"YYYY-MM-DDTHH:mm:ss",f={Y:this.$d.years,YY:o.s(this.$d.years,2,"0"),YYYY:o.s(this.$d.years,4,"0"),M:this.$d.months,MM:o.s(this.$d.months,2,"0"),D:this.$d.days,DD:o.s(this.$d.days,2,"0"),H:this.$d.hours,HH:o.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:o.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:o.s(this.$d.seconds,2,"0"),SSS:o.s(this.$d.milliseconds,3,"0")};return r.replace(t,function(y,x){return x||String(f[y])})},n.as=function(e){return this.$ms/C[M(e)]},n.get=function(e){var r=this.$ms,f=M(e);return f==="milliseconds"?r%=1e3:r=f==="weeks"?l(r/C[f]):this.$d[f],r===0?0:r},n.add=function(e,r,f){var y;return y=r?e*C[M(r)]:_(e)?e.$ms:D(e,this).$ms,D(this.$ms+y*(f?-1:1),this)},n.subtract=function(e,r){return this.add(e,r,!0)},n.locale=function(e){var r=this.clone();return r.$l=e,r},n.clone=function(){return D(this.$ms,this)},n.humanize=function(e){return u().add(this.$ms,"ms").locale(this.$l).fromNow(!e)},n.valueOf=function(){return this.asMilliseconds()},n.milliseconds=function(){return this.get("milliseconds")},n.asMilliseconds=function(){return this.as("milliseconds")},n.seconds=function(){return this.get("seconds")},n.asSeconds=function(){return this.as("seconds")},n.minutes=function(){return this.get("minutes")},n.asMinutes=function(){return this.as("minutes")},n.hours=function(){return this.get("hours")},n.asHours=function(){return this.as("hours")},n.days=function(){return this.get("days")},n.asDays=function(){return this.as("days")},n.weeks=function(){return this.get("weeks")},n.asWeeks=function(){return this.as("weeks")},n.months=function(){return this.get("months")},n.asMonths=function(){return this.as("months")},n.years=function(){return this.get("years")},n.asYears=function(){return this.as("years")},s}(),S=function(s,n,e){return s.add(n.years()*e,"y").add(n.months()*e,"M").add(n.days()*e,"d").add(n.hours()*e,"h").add(n.minutes()*e,"m").add(n.seconds()*e,"s").add(n.milliseconds()*e,"ms")};return function(s,n,e){u=e,o=e().$utils(),e.duration=function(y,x){var g=e.locale();return D(y,{$l:g},x)},e.isDuration=_;var r=n.prototype.add,f=n.prototype.subtract;n.prototype.add=function(y,x){return _(y)?S(this,y,1):r.bind(this)(y,x)},n.prototype.subtract=function(y,x){return _(y)?S(this,y,-1):f.bind(this)(y,x)}}})})(Q);var ge=Q.exports;const Te=me(ge);$.extend(Te);const j=(a=0,v="seconds")=>{const u=$.duration(a,v);let o=u.years(),i=u.months(),m=u.days(),h=u.hours(),c=u.minutes(),t=u.seconds(),d=`${o?o+"年":""}${i?i+"个月":""}${m?m+"天":""}${h?h+"时":""}${c?c+"分":""}${t?t+"秒":""}`;return{months:i,days:m,hours:h,minutes:c,seconds:t,text:d||"0秒"}},B=(a=0,v="seconds",u="YY[年]MM[个月]DD[天]HH[时]mm[分]ss[秒]")=>$.duration(a,v).format(u);function $e(){let a={};const v=(i=0,{mode:m="inc",option:h="section",id:c="defaultId"}={})=>{const t=Y("");a[c]&&clearTimeout(a[c].intervalFn),a[c]={id:c,intervalFn:null,duration:i,calculateTime:0},a[c].calculateTime=$().unix()+(m==="inc"?-i:i);const d=()=>{m==="inc"&&(a[c].duration=$().unix()-a[c].calculateTime),m==="dec"&&(a[c].duration=a[c].calculateTime-$().unix()),h==="section"&&(t.value=j(a[c].duration).text),h==="intact"&&(t.value=B(a[c].duration))};return d(),a[c].intervalFn=setInterval(()=>{if(d(),a[c].duration<=0)return u(c),t},1e3),t},u=i=>{i?(clearInterval(a[i].intervalFn),a[i].intervalFn=null):o()},o=()=>{for(let i in a)clearInterval(a[i].intervalFn),a[i].intervalFn=null;a={}};return O(()=>o()),{runCompute:v,stopCompute:u,resetCompute:o}}function we(){let a={};const v=(i="",m)=>{const{option:h="section",format:c="",unit:t="",id:d="defaultId"}=m||{},w=Y("");a[d]&&clearTimeout(a[d].intervalFn),a[d]={id:d,intervalFn:null,duration:i,calculateTime:$(i).unix()};const W=()=>{a[d].calculateTime<=$().unix()?a[d].duration=$().unix()-a[d].calculateTime:a[d].duration=a[d].calculateTime-$().unix(),h==="section"&&(w.value=j(a[d].duration).text),h==="intact"&&(w.value=B(a[d].duration,t,c))};return W(),a[d].intervalFn=setInterval(()=>{if(a[d].duration<0){u(a[d].id),w.value=0;return}W()},1e3),w},u=i=>{i?(clearInterval(a[i].intervalFn),a[i].intervalFn=null):o()},o=()=>{for(let i in a)clearInterval(a[i].intervalFn),a[i].intervalFn=null;a={}};return O(()=>o()),{runCompute:v,stopCompute:u,resetCompute:o}}function Ce(a,v=10){let u=null;const o=Y(v),i=()=>{clearInterval(u),u=null},m=()=>{i(),o.value=v,a()},h=()=>{i(),o.value=v,u=setInterval(()=>{o.value=o.value-1,o.value<=0&&(o.value=v,a())},1e3)};return O(()=>{i()}),{duration:o,run:h,clear:i,reset:m}}const _e={style:{"margin-left":"20px"}},Se={style:{"margin-left":"20px"}},ke=pe({name:"familiar-function"}),De=Object.assign(ke,{setup(a){const{runCompute:v,stopCompute:u}=$e(),{runCompute:o,stopCompute:i}=we(),{duration:m,run:h,clear:c}=Ce(()=>{t.value.polling.count++;const l=t.value.polling.count;t.value.polling.text[1]=`当前已回调${l}次`},10);h();const t=Y({byte:{size:"",text:""},resource:{url:"",text:"",loading:!1},date:{time:1e3*60*60*24,text:"-",format:1,transition:"seconds"},random:{min:0,max:10,value:""},dynamicTime:{isDurationStatus:!0,durationValue:0,durationSectionInc:"",durationIntactDec:"",isTimeStatus:!0,timeValue:0,timeSectionInc:"",timeSectionDec:""},color:{text:""},image:{url:"",width:"",height:""},template:{string:"我的名字是{{name}}，我的年龄是{{age}}，我的性别是{{gender}}",text:"-",engineList:[{label:"名称",value:"name"},{label:"24",value:"age"},{label:"男",value:"gender"}]},polling:{text:["",""],count:0,status:!0}}),d=Y([{formType:"title",label:"常用函数"},{formType:"button",label:"下载资源：",buttonText:"点击下载",plain:!0,type:"primary",onClick:()=>{let l=new URL("/my-helper/vite.svg",self.location).href;te(l)}},{formType:"button",label:"复制文字：",buttonText:"点击复制",plain:!0,type:"primary",onClick:()=>ne("复制文字")},{formType:"button",label:"链式调用：",buttonText:"点击调用",plain:!0,type:"primary",onClick:()=>w()},{formType:"button",label:"函数柯里化：",buttonText:"点击调用",plain:!0,type:"primary",onClick:()=>W(),tips:"提示：将一个接受多个参数的函数转换成一系列使用一个参数的函数"},{layout:"rows-flex",label:"字节转换：",tips:"注：将字节转换文字显示",children:[{formType:"input",label:"数值:",prop:["byte","size"],style:{width:"200px"},labelWidth:"50px",required:!1,clearable:!1},{formType:"button",label:"",buttonText:"点击转换",labelWidth:"20px",required:!1,plain:!0,type:"primary",onClick:()=>{t.value.byte.text=ae(t.value.byte.size)}},{formType:"text",label:"结果:",prop:["byte","text"],labelWidth:"60px",required:!1}]},{layout:"rows-flex",label:"链接转文件：",tips:"注：将资源的url转为文件",children:[{formType:"input",label:"url:",prop:["resource","url"],style:{width:"260px"},labelWidth:"50px",required:!1,clearable:!1},{formType:"button",label:"",buttonText:"点击转换",labelWidth:"20px",required:!1,plain:!0,type:"primary",loading:I(()=>t.value.resource.loading),onClick:async()=>{const{url:l}=t.value.resource;t.value.resource.loading=!0;let b=await le(l).catch(T=>T);t.value.resource.loading=!1;let p={size:b.size,type:b.type};l&&(t.value.resource.text=JSON.stringify(p))}},{formType:"text",label:"结果:",prop:["resource","text"],labelWidth:"60px",required:!1}]},{layout:"rows-flex",label:"生成颜色：",tips:"注：随机生成一个颜色值",children:[{formType:"button",label:"",buttonText:"点击转换",labelWidth:"20px",required:!1,plain:!0,type:"primary",loading:I(()=>t.value.resource.loading),onClick:()=>{t.value.color.text=ie()}},{formType:"text",label:"结果:",prop:["color","text"],labelWidth:"60px",required:!1}]},{label:"图片宽高：",formType:"slot",slot:"imageSizeSlot",prop:["image","url"]},{label:"轮询hooks：",tips:"注：hooks，封装轮询usePolling",layout:"rows-flex",prop:["polling"],children:[{formType:"button",label:"",buttonText:I(()=>t.value.polling.status?"停止":"启动"),labelWidth:"0px",required:!1,plain:!0,type:"primary",onClick:()=>{const{status:l}=t.value.polling;l?c():h(),t.value.polling.status=!t.value.polling.status}},{formType:"text",label:"",prop:["polling","text"],labelWidth:"20px",required:!1}]},{layout:"rows-flex",label:"时间转换：",tips:"注：将时间差转换为具体天，小时，分，秒数",children:[{formType:"input",label:"数值:",prop:["date","time"],style:{width:"100px"},labelWidth:"50px",required:!1,clearable:!1},{formType:"select",label:"格式类型:",prop:["date","format"],style:{width:"100px"},labelWidth:"90px",required:!1,optionList:[{label:"部分",value:1},{label:"完整",value:2}]},{formType:"select",label:"单位:",prop:["date","transition"],style:{width:"100px"},labelWidth:"60px",required:!1,optionList:[{label:"时",value:"hours"},{label:"分",value:"minutes"},{label:"秒",value:"seconds"},{label:"毫秒",value:"milliseconds"}]},{formType:"button",label:"",buttonText:"点击转换",labelWidth:"20px",required:!1,plain:!0,type:"primary",onClick:()=>{const{time:l,format:b,transition:p}=t.value.date;b==1&&(t.value.date.text=j(l,p).text),b==2&&(t.value.date.text=B(l,p))}},{formType:"text",label:"结果:",prop:["date","text"],labelWidth:"60px",required:!1}]},{layout:"rows-flex",label:"生成随机数：",tips:"注：生成范围随机数",children:[{formType:"input-number",label:"最小值:",prop:["random","min"],labelWidth:"60px",required:!1},{formType:"input-number",label:"最大值:",prop:["random","max"],labelWidth:"80px",required:!1},{formType:"button",label:"",buttonText:"点击生成",labelWidth:"20px",required:!1,plain:!0,type:"primary",onClick:()=>{t.value.random.value=P(t.value.random.min,t.value.random.max)}},{formType:"text",label:"结果：",prop:["random","value"],labelWidth:"80px",required:!1}]},{layout:"rows",label:"动态时长：",tips:"注：一个时长的计时，通过封装hooks，将计时逻辑抽离，推荐时长计算",children:[{formType:"input-number",label:"时长：",prop:["dynamicTime","durationValue"],controlsPosition:"right",required:!1,labelWidth:"84px",onChange:()=>C()},{formType:"button",label:"操作：",buttonText:I(()=>t.value.dynamicTime.isDurationStatus?"停止":"开始"),labelWidth:"84px",required:!1,plain:!0,type:"primary",onClick:()=>{const{isDurationStatus:l}=t.value.dynamicTime;l?u():C(),t.value.dynamicTime.isDurationStatus=!l}},{formType:"text",label:"部分显示：",prop:["dynamicTime","durationSectionInc"],required:!1,labelWidth:"84px"},{formType:"text",label:"完整显示：",prop:["dynamicTime","durationIntactDec"],required:!1,labelWidth:"84px"}]},{layout:"rows",label:"动态时间：",tips:"注：一个时间点的计时，通过封装hooks，将计时逻辑抽离",children:[{formType:"date",label:"时长：",prop:["dynamicTime","timeValue"],required:!1,labelWidth:"84px",type:"datetime",style:{width:"200px"},onChange:()=>_()},{formType:"button",label:"操作：",buttonText:I(()=>t.value.dynamicTime.isTimeStatus?"停止":"开始"),labelWidth:"84px",required:!1,plain:!0,type:"primary",onClick:()=>{const{isTimeStatus:l}=t.value.dynamicTime;l?i():_(),t.value.dynamicTime.isTimeStatus=!l}},{formType:"text",label:"部分显示：",prop:["dynamicTime","timeSectionInc"],required:!1,labelWidth:"84px"},{formType:"text",label:"完整显示：",prop:["dynamicTime","timeSectionDec"],required:!1,labelWidth:"84px"}]},{layout:"rows",label:"模板字符串：",tips:"注：通过通配符{{}}标志替换字符串中的字段",children:[{formType:"input",label:"字符串：",prop:["template","string"],required:!1,showWordLimit:!0,rows:5,labelWidth:"84px",type:"textarea",style:{width:"500px"}},{formType:"slot",slot:"templateEngineSlot",labelWidth:"84px",label:"替换数据：",required:!1},{formType:"button",label:"操作：",buttonText:"替换",labelWidth:"84px",required:!1,plain:!0,type:"primary",onClick:()=>{const{string:l,engineList:b}=t.value.template,p=b.reduce((T,S)=>(T[S.value]=S.label,T),{});t.value.template.text=oe(l,p)}},{formType:"text",label:"转换结果：",prop:["template","text"],required:!1,labelWidth:"84px"}]}]),w=()=>{xe().print().sleep(2e3).print("2s后打印成功！").wait(1e3).execute()},W=()=>{const b=R((e,r,f)=>e+r+f)(1)(2),p=[1,2,3,4,5],n=R((e,r)=>r.filter(e))(e=>e>3)(p)},C=()=>{const{durationValue:l}=t.value.dynamicTime;t.value.dynamicTime.durationSectionInc=v(l,{mode:"inc",option:"section",id:"section"}),t.value.dynamicTime.durationIntactDec=v(l,{mode:"dec",option:"intact",id:"intact"})},_=()=>{const{timeValue:l}=t.value.dynamicTime;t.value.dynamicTime.timeSectionInc=o(l,{option:"section",id:"section"}),t.value.dynamicTime.timeSectionDec=o(l,{option:"intact",id:"intact"})},D=async l=>{const{width:b,height:p}=await ce(l);t.value.image.width=b,t.value.image.height=p},M=()=>{t.value.template.engineList.push({label:"",value:""})},H=l=>{t.value.template.engineList.splice(l,1)};return he(()=>m.value,l=>{t.value.polling.text[0]=`${l}s 后回调`}),fe(()=>{t.value.dynamicTime.durationValue=P(100,1e5),t.value.dynamicTime.timeValue=$(Date.now()-P(1e3*60*1,1e3*60*60)).format("YYYY-MM-DD HH:mm:ss"),C(),_()}),(l,b)=>{const p=L("el-button"),T=L("el-input"),S=L("c-form"),s=L("c-card");return q(),z(s,null,{default:F(()=>[V(S,{"label-width":"120px",width:"80%",model:t.value,rows:d.value,isFooter:!1},{imageSizeSlot:F(()=>[V(re,{modelValue:t.value.image.url,"onUpdate:modelValue":b[0]||(b[0]=n=>t.value.image.url=n),desc:!1,onOnChange:D},{default:F(()=>[V(p,null,{default:F(()=>[ye("选择图片")]),_:1})]),_:1},8,["modelValue"]),N("div",_e,[N("span",null,"宽："+G(t.value.image.width||"-"),1),N("span",Se,"高："+G(t.value.image.height||"-"),1)])]),templateEngineSlot:F(()=>[(q(!0),A(ve,null,be(t.value.template.engineList,(n,e)=>(q(),A("div",{class:"template-engine",key:n},[V(T,{modelValue:n.value,"onUpdate:modelValue":r=>n.value=r,placeholder:"请输入"},null,8,["modelValue","onUpdate:modelValue"]),V(T,{modelValue:n.label,"onUpdate:modelValue":r=>n.label=r,placeholder:"请输入"},null,8,["modelValue","onUpdate:modelValue"]),t.value.template.engineList.length!=e+1?(q(),z(p,{key:0,type:"danger",icon:J(se),circle:"",onClick:r=>H(e)},null,8,["icon","onClick"])):K("",!0),t.value.template.engineList.length==e+1?(q(),z(p,{key:1,type:"primary",icon:J(ue),circle:"",onClick:M},null,8,["icon"])):K("",!0)]))),128))]),_:1},8,["model","rows"])]),_:1})}}}),He=ee(De,[["__scopeId","data-v-5750e008"]]);export{He as default};
