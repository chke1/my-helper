import{u as ae}from"./index-bf586a57.js";import{r as le,$ as te,d as oe,a as ne,c as de,j as se,ag as _,v as C,x as Q,W as e,Q as n,P as S,y as R,u as l,G as V,U as s,V as z,aB as pe,aw as ie,ax as re}from"./main/chunk-vue-32374f64.js";import{S as W}from"./main/chunk-sortablejs-be94e56d.js";import{_ as ue}from"./popup.vue_vue_type_script_setup_true_name_popup_lang-b37c8ac5.js";import{T as ce}from"./table-group-0cb47a00.js";import{u as me}from"./main/chunk-vue-router-c3f0a4ff.js";import{_ as ge,c as be,x as I}from"./index-4158e2fb.js";import"./message-box-4866a89d.js";import"./main/chunk-element-plus-b8cc1db0.js";import"./main/chunk-lodash-es-21c98b27.js";import"./append-popup-829c79e1.js";import"./main/chunk-fingerprintjs-cb838e3e.js";const K="/my-helper/assets/svg/drag-f854422d.svg";function H(x){const{api:m,params:u={},lazy:p=!0,callBack:v,onSuccess:h,onError:D,onFinally:T}=x||{},g=le({loading:!1,error:null,params:u,data:[]}),b=async()=>{g.loading=!0;try{let t=await m(g.params).catch(f=>(g.error=f,D&&D(f),f));if(h&&h(t),T&&T(t),g.loading=!1,(t==null?void 0:t.code)!==0)return;if(v){let f=v(t);f&&(g.data=f)}else g.data=(t==null?void 0:t.data)||[];return t}catch(t){g.error=t,g.loading=!1}};return p&&b(),{...te(g),queryData:b}}class fe extends Array{getLabel(m){var u;return((u=this.find(p=>(p==null?void 0:p.value)===m))==null?void 0:u.label)||""}getValue(m){var u;return((u=this.find(p=>(p==null?void 0:p.label)===m))==null?void 0:u.value)||""}getValues(){return this.map(m=>m.value)}getLabels(){return this.map(m=>m.label)}getItem(m){return this.find(u=>(u==null?void 0:u.value)===m)||{}}}const L=new fe({label:"创建者",value:1},{label:"超级管理员",value:2},{label:"普通管理员",value:3});const O=x=>(ie("data-v-7b5a4c6b"),x=x(),re(),x),_e={class:"wrap-page table-template"},ye={class:"table-group"},Ve={class:"table-group__content"},xe=O(()=>R("img",{class:"table-drag-img",src:K},null,-1)),ve=O(()=>R("img",{class:"table-drag-img",src:K},null,-1)),he=O(()=>R("img",{class:"table-drag-img",src:K},null,-1)),ke={key:3},Ue=oe({name:"el-encap.table-template"}),we=Object.assign(Ue,{setup(x){const m=me(),u=be(),p=ne("group"),{loading:v,data:h}=H({api:I,params:{id:"123"}}),{loading:D,data:T}=H({api:I,params:{id:"123"}}),{loading:g,paging:b,searchParams:t,tableData:f,queryTableData:k,delTableRow:J}=ae({api:I,params:{input:"",select:"",role:"",startDate:"",endDate:"",activeId:""},options:{},callBack:()=>{}}),y=de({get(){const{startDate:i="",endDate:o=""}=t.value;return[i,o]},set(i){t.value.startDate=i[0]||"",t.value.endDate=i[1]||""}}),$=async()=>await I().catch(i=>i),B=i=>{m.push({path:"/el-encap/table-template/details-page",query:{id:i.id}})},A=()=>{u.openModal("popup",{type:"edit",data:[]})},E=()=>{u.openModal("popup",{type:"add",data:[]})},M=i=>{J({api:I,params:i,options:{},callBack:()=>{}})},X=()=>{const i=document.querySelector(".table-template__table tbody");W.create(i,{group:{name:"shared",pull:!0,put:!0},handle:".table-drag-img",animation:150,onEnd({newIndex:o,oldIndex:U}){const N=f.value.splice(U,1)[0];f.value.splice(o,0,N)}})},Y=()=>{const i=document.querySelector(".table-template__table tr");W.create(i,{animation:150,onEnd:({newIndex:o,oldIndex:U})=>{}})};return se(()=>{X(),Y()}),(i,o)=>{const U=_("el-tab-pane"),N=_("el-tabs"),q=_("c-input"),w=_("c-select"),j=_("c-date-picker"),r=_("el-button"),d=_("el-table-column"),F=_("c-switch"),G=_("c-table"),P=_("c-card"),Z=_("c-dialog"),ee=_("c-drawer");return C(),Q("div",_e,[e(N,{modelValue:p.value,"onUpdate:modelValue":o[0]||(o[0]=a=>p.value=a),class:"table-tabs"},{default:n(()=>[e(U,{label:"分组表格",name:"group"}),e(U,{label:"基础表格",name:"basics"}),e(U,{label:"常规表格",name:"practice"})]),_:1},8,["modelValue"]),(C(),S(pe,null,[p.value=="group"?(C(),S(P,{key:0,isNone:"",isAffix:""},{default:n(()=>[R("div",ye,[e(ce,{modelValue:l(t).activeId,"onUpdate:modelValue":o[1]||(o[1]=a=>l(t).activeId=a),loading:l(D),list:l(T).data,options:{label:"groupName"}},null,8,["modelValue","loading","list"]),R("div",Ve,[e(G,{"row-key":"id",class:"table-template__table",loading:l(g),data:l(f),search:l(t),"onUpdate:search":o[6]||(o[6]=a=>V(t)?t.value=a:null),paging:l(b),"onUpdate:paging":o[7]||(o[7]=a=>V(b)?b.value=a:null),onRefresh:l(k)},{search:n(()=>[e(q,{modelValue:l(t).input,"onUpdate:modelValue":o[2]||(o[2]=a=>l(t).input=a),placeholder:"请输入关键字"},null,8,["modelValue"]),e(w,{modelValue:l(t).select,"onUpdate:modelValue":o[3]||(o[3]=a=>l(t).select=a),prefixText:"测试：",loading:l(v),optionList:l(h).data},null,8,["modelValue","loading","optionList"]),e(w,{modelValue:l(t).role,"onUpdate:modelValue":o[4]||(o[4]=a=>l(t).role=a),prefixText:"角色：",optionList:l(L)},null,8,["modelValue","optionList"]),e(j,{prefixText:"创建日期：",type:"daterange",modelValue:l(y),"onUpdate:modelValue":o[5]||(o[5]=a=>V(y)?y.value=a:null)},null,8,["modelValue"])]),handle:n(({selectionLength:a})=>[e(r,{type:"primary",disabled:!a},{default:n(()=>[s("勾选控制")]),_:2},1032,["disabled"]),e(r,{type:"primary",onClick:A},{default:n(()=>[s("弹窗")]),_:1})]),table:n(()=>[e(d,{type:"selection",width:"40"}),e(d,{label:"排序",width:"60",align:"center"},{default:n(()=>[xe]),_:1}),e(d,{prop:"id",label:"栏目一"}),e(d,{prop:"id",label:"栏目二"}),e(d,{prop:"id",label:"栏目三"}),e(d,{prop:"id",label:"栏目四"}),e(d,{prop:"id",label:"栏目五"}),e(d,{prop:"id",label:"栏目六"},{default:n(()=>[s(z(l(L).getLabel(1)),1)]),_:1}),e(d,{prop:"status",label:"状态"},{default:n(({row:a})=>[e(F,{modelValue:a.status,"onUpdate:modelValue":c=>a.status=c,"before-change":$,onRefresh:l(k)},null,8,["modelValue","onUpdate:modelValue","onRefresh"])]),_:1}),e(d,{label:"操作",width:"240",fixed:"right",align:"center"},{default:n(({row:a})=>[e(r,{type:"primary",text:"",onClick:c=>B(a)},{default:n(()=>[s("详情")]),_:2},1032,["onClick"]),e(r,{type:"primary",text:"",onClick:c=>E(a)},{default:n(()=>[s("编辑")]),_:2},1032,["onClick"]),e(r,{type:"danger",text:"",onClick:c=>M(a)},{default:n(()=>[s("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["loading","data","search","paging","onRefresh"])])])]),_:1})):p.value=="basics"?(C(),S(P,{key:1,isAffix:""},{header:n(()=>[s("提示：封装表格hooks统一操作表格页，封装枚举类简化变量的使用维护")]),default:n(()=>[e(G,{"row-key":"id",class:"table-template__table",loading:l(g),data:l(f),search:l(t),"onUpdate:search":o[12]||(o[12]=a=>V(t)?t.value=a:null),paging:l(b),"onUpdate:paging":o[13]||(o[13]=a=>V(b)?b.value=a:null),onRefresh:l(k)},{search:n(()=>[e(q,{modelValue:l(t).input,"onUpdate:modelValue":o[8]||(o[8]=a=>l(t).input=a),placeholder:"请输入关键字"},null,8,["modelValue"]),e(w,{modelValue:l(t).select,"onUpdate:modelValue":o[9]||(o[9]=a=>l(t).select=a),prefixText:"测试：",loading:l(v),optionList:l(h).data},null,8,["modelValue","loading","optionList"]),e(w,{modelValue:l(t).role,"onUpdate:modelValue":o[10]||(o[10]=a=>l(t).role=a),prefixText:"角色：",optionList:l(L)},null,8,["modelValue","optionList"]),e(j,{prefixText:"创建日期：",type:"daterange",modelValue:l(y),"onUpdate:modelValue":o[11]||(o[11]=a=>V(y)?y.value=a:null)},null,8,["modelValue"])]),handle:n(({selectionLength:a})=>[e(r,{type:"primary",disabled:!a},{default:n(()=>[s("勾选控制")]),_:2},1032,["disabled"]),e(r,{type:"primary",onClick:A},{default:n(()=>[s("弹窗")]),_:1})]),table:n(()=>[e(d,{type:"selection",width:"40"}),e(d,{label:"排序",width:"60",align:"center"},{default:n(()=>[ve]),_:1}),e(d,{prop:"id",label:"栏目一"}),e(d,{prop:"id",label:"栏目二"}),e(d,{prop:"id",label:"栏目三"}),e(d,{prop:"id",label:"栏目四"}),e(d,{prop:"id",label:"栏目五"}),e(d,{prop:"id",label:"栏目六"},{default:n(()=>[s(z(l(L).getLabel(1)),1)]),_:1}),e(d,{prop:"status",label:"状态"},{default:n(({row:a})=>[e(F,{modelValue:a.status,"onUpdate:modelValue":c=>a.status=c,"before-change":$,onRefresh:l(k)},null,8,["modelValue","onUpdate:modelValue","onRefresh"])]),_:1}),e(d,{label:"操作",width:"240",fixed:"right",align:"center"},{default:n(({row:a})=>[e(r,{type:"primary",text:"",onClick:c=>B(a)},{default:n(()=>[s("详情")]),_:2},1032,["onClick"]),e(r,{type:"primary",text:"",onClick:c=>E(a)},{default:n(()=>[s("编辑")]),_:2},1032,["onClick"]),e(r,{type:"danger",text:"",onClick:c=>M(a)},{default:n(()=>[s("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["loading","data","search","paging","onRefresh"])]),_:1})):p.value=="practice"?(C(),S(P,{key:2},{header:n(()=>[s("提示：自动撑满高度")]),default:n(()=>[e(G,{"row-key":"id",class:"table-template__table",loading:l(g),data:l(f),search:l(t),"onUpdate:search":o[18]||(o[18]=a=>V(t)?t.value=a:null),paging:l(b),"onUpdate:paging":o[19]||(o[19]=a=>V(b)?b.value=a:null),onRefresh:l(k)},{search:n(()=>[e(q,{modelValue:l(t).input,"onUpdate:modelValue":o[14]||(o[14]=a=>l(t).input=a),placeholder:"请输入关键字"},null,8,["modelValue"]),e(w,{modelValue:l(t).select,"onUpdate:modelValue":o[15]||(o[15]=a=>l(t).select=a),prefixText:"测试：",loading:l(v),optionList:l(h).data},null,8,["modelValue","loading","optionList"]),e(w,{modelValue:l(t).role,"onUpdate:modelValue":o[16]||(o[16]=a=>l(t).role=a),prefixText:"角色：",optionList:l(L)},null,8,["modelValue","optionList"]),e(j,{prefixText:"创建日期：",type:"daterange",modelValue:l(y),"onUpdate:modelValue":o[17]||(o[17]=a=>V(y)?y.value=a:null)},null,8,["modelValue"])]),handle:n(({selectionLength:a})=>[e(r,{type:"primary",disabled:!a},{default:n(()=>[s("勾选控制")]),_:2},1032,["disabled"]),e(r,{type:"primary",onClick:A},{default:n(()=>[s("弹窗")]),_:1})]),table:n(()=>[e(d,{type:"selection",width:"40"}),e(d,{label:"排序",width:"60",align:"center"},{default:n(()=>[he]),_:1}),e(d,{prop:"id",label:"栏目一"}),e(d,{prop:"id",label:"栏目二"}),e(d,{prop:"id",label:"栏目三"}),e(d,{prop:"id",label:"栏目四"}),e(d,{prop:"id",label:"栏目五"}),e(d,{prop:"id",label:"栏目六"},{default:n(()=>[s(z(l(L).getLabel(1)),1)]),_:1}),e(d,{prop:"status",label:"状态"},{default:n(({row:a})=>[e(F,{modelValue:a.status,"onUpdate:modelValue":c=>a.status=c,"before-change":$,onRefresh:l(k)},null,8,["modelValue","onUpdate:modelValue","onRefresh"])]),_:1}),e(d,{label:"操作",width:"240",fixed:"right",align:"center"},{default:n(({row:a})=>[e(r,{type:"primary",text:"",onClick:c=>B(a)},{default:n(()=>[s("详情")]),_:2},1032,["onClick"]),e(r,{type:"primary",text:"",onClick:c=>E(a)},{default:n(()=>[s("编辑")]),_:2},1032,["onClick"]),e(r,{type:"danger",text:"",onClick:c=>M(a)},{default:n(()=>[s("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["loading","data","search","paging","onRefresh"])]),_:1})):(C(),Q("div",ke))],1024)),e(Z,{title:"弹窗标题",width:600,name:"popup"},{default:n(()=>[e(ue)]),_:1}),e(ee,{title:"抽屉标题",width:500,name:"drawer"})])}}}),Ne=ge(we,[["__scopeId","data-v-7b5a4c6b"]]);export{Ne as default};
