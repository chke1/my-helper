import{d as O,ag as b,v as l,x as S,a8 as U,F as M,P as k,Q as n,S as q,u as e,T as $,y as a,V as A,W as t,U as z,a as F,c as C,w as X,n as K,j as Q,K as Z,_ as ee,J as te,G as ne,aw as W,ax as Y,aa as se,Y as oe,aB as le}from"./main/chunk-vue-32374f64.js";import{_ as V,a as ae,u as P,s as G,b as ce,c as ue,f as re,e as ie,d as de,g as _e,h as me,i as pe,p as fe,j as he,T as ve,U as be,r as ge,k as xe}from"./index-62cef2e0.js";import{i as J}from"./menu-icons-913aa0a3.js";import{b as L,u as B}from"./main/chunk-vue-router-c3f0a4ff.js";import{A as ye}from"./index-1b53239b.js";import{T as ke}from"./theme-switch-ee87b791.js";import{u as Se}from"./index-43ed2021.js";import{u as we}from"./index-ad24bafc.js";import"./main/chunk-element-plus-b8cc1db0.js";import"./main/chunk-lodash-es-21c98b27.js";import"./main/chunk-fingerprintjs-cb838e3e.js";import"./main/chunk-sortablejs-be94e56d.js";const Te=O({name:"menu-item"}),Ce=Object.assign(Te,{props:{menus:{type:Array,default:()=>[]}},setup(h){return(r,_)=>{const g=b("el-icon"),v=b("menu-item",!0),i=b("el-sub-menu"),y=b("el-menu-item");return l(!0),S(M,null,U(h.menus,c=>(l(),S(M,{key:c.path},[c.children&&c.children.length?(l(),k(i,{index:c.path,key:c.path},{title:n(()=>[c.meta.icon?(l(),k(g,{key:0,size:16},{default:n(()=>[(l(),k(q(e(J)[c.name])))]),_:2},1024)):$("",!0),a("span",null,A(c.meta.title),1)]),default:n(()=>[t(v,{menus:c.children},null,8,["menus"])]),_:2},1032,["index"])):(l(),k(y,{index:c.path,key:c.path},{title:n(()=>[z(A(c.meta.title),1)]),default:n(()=>[c.meta.icon?(l(),k(g,{key:0,size:16},{default:n(()=>[(l(),k(q(e(J)[c.name])))]),_:2},1024)):$("",!0)]),_:2},1032,["index"]))],64))),128)}}});const Ee={class:"c-menu"},Ie={class:"logo"},Re={class:"logo-icon"},$e=["innerHTML"],Fe={key:0,id:"menuId"},Ae=O({name:"c-menu"}),Me=Object.assign(Ae,{setup(h){const r=ae(),_=P(),g=L(),v=B(),i=F(),y=F(),c=F(""),w=C(()=>r.menuList),E=C(()=>{if(g.meta.menu==!1){let o=g.meta.currentCrumb.findLastIndex(u=>u.menu!==!1);return g.meta.currentCrumb[o].path}else return g.path}),m=C(()=>!_.isMenuExpand),d=(o,u)=>{if(!o)return u([]);let s=[],p=x=>{for(const T of x)if(p(T.children||[]),T.meta.title.indexOf(o)!=-1){let I=`<span class='is-primary-text'>${o}</span>`,R=T.meta.title.replace(new RegExp(o,"g"),I);s.push({value:T.meta.title,rich:R,path:T.path})}};p(r.menuList),u(s)},f=o=>{v.push({path:o.path})};return X(()=>_.menuExpandData,(o,u)=>{if(u.length>0){let s=o.length>u.length;for(let p of s?o:u)(s?u:o).includes(p)||K(()=>{s?i.value.open(p):i.value.close(p)})}}),Q(()=>{K(()=>{const o=document.querySelector(".el-menu-item.is-active"),u=document.getElementById("menuId"),{top:s}=(u==null?void 0:u.getBoundingClientRect())||{},{top:p}=(o==null?void 0:o.getBoundingClientRect())||{},x=p-s;y.value.setScrollTop(x)})}),(o,u)=>{const s=b("el-icon"),p=b("el-autocomplete"),x=b("el-menu"),T=b("el-scrollbar");return l(),S("div",Ee,[a("div",Ie,[a("div",Re,A(e(_).isMenuExpand?"logo":""),1)]),a("div",{class:Z(["autocomplete",!e(_).isMenuExpand&&"autocomplete-collapse"])},[e(_).isMenuExpand?(l(),k(p,{key:1,modelValue:c.value,"onUpdate:modelValue":u[0]||(u[0]=I=>c.value=I),placeholder:"搜索","fetch-suggestions":d,onSelect:f},{prefix:n(()=>[t(s,null,{default:n(()=>[t(e(G))]),_:1})]),default:n(({item:I})=>[a("div",{innerHTML:I.rich},null,8,$e)]),_:1},8,["modelValue"])):(l(),k(s,{key:0},{default:n(()=>[t(e(G))]),_:1}))],2),t(T,{ref_key:"scrollbarRef",ref:y,class:"scrollbar-warp"},{default:n(()=>[e(w).length?(l(),S("div",Fe,[t(x,{ref_key:"menuRef",ref:i,router:"","default-active":e(E),"default-openeds":e(_).menuExpandData,collapse:e(m)},{default:n(()=>[t(Ce,{menus:e(w)},null,8,["menus"])]),_:1},8,["default-active","default-openeds","collapse"])])):$("",!0)]),_:1},512)])}}}),Ve=V(Me,[["__scopeId","data-v-d26891ef"]]);function Le(h,r,_){Q(()=>h.addEventListener(r,_)),ee(()=>h.removeEventListener(r,_))}const D=h=>(W("data-v-371f76f3"),h=h(),Y(),h),qe={class:"header"},ze={class:"header-left"},Pe={key:0,class:"header-left__crumb"},Be={class:"header-right"},Oe={class:"header-right-theme"},Ue={class:"header-right-setting"},De={class:"header-right-screen"},je={class:"header-right-userinfo"},Ne={class:"header-right-userinfo__wrap"},He=["src"],Ke={class:"header-right-userinfo__list"},Ge=D(()=>a("span",null,"个人中心",-1)),Je=D(()=>a("span",null,"项目地址",-1)),Qe=D(()=>a("span",null,"退出登录",-1)),We={__name:"index",setup(h){const r=P(),_=ce(),g=ue(),v=B();L();const i=F(!1),y=Se({storageKey:ve,valueDark:"dark",valueLight:"light"});Le(document,"fullscreenchange",()=>{i.value=!i.value});const c=()=>{let s=r.isMenuExpand==0?1:0;r.setSingleState("isMenuExpand",s)},w=()=>{g.openModal("setting-drawer")},E=we(y),m=s=>{const{x:p,y:x}=s;document.documentElement.style.setProperty("--dark-clip-x",p+"px"),document.documentElement.style.setProperty("--dark-clip-y",x+"px"),document.startViewTransition?document.startViewTransition(()=>{document.documentElement.classList.toggle("dark")}):document.documentElement.classList.toggle("dark")},d=()=>{i.value?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():document.body.requestFullscreen?document.body.requestFullscreen():document.body.webkitRequestFullScreen?document.body.webkitRequestFullScreen():document.body.mozRequestFullScreen?document.body.mozRequestFullScreen():document.body.msRequestFullscreen&&document.body.msRequestFullscreen()},f=()=>{v.push("/system/user")},o=()=>{window.open("https://gitee.com/ch-ke/my-helper","_blank")},u=()=>{localStorage.removeItem(be),ge(),v.push("/")};return(s,p)=>{const x=b("el-icon"),T=b("c-popover"),I=b("c-drawer");return l(),S(M,null,[a("header",qe,[a("div",ze,[t(x,{onClick:p[0]||(p[0]=R=>c()),class:"header-left__icon"},{default:n(()=>[(l(),k(q(e(r).isMenuExpand?e(re):e(ie))))]),_:1}),s.$slots.breadcrumb?(l(),S("div",Pe,[te(s.$slots,"breadcrumb",{},void 0,!0)])):$("",!0)]),a("div",Be,[a("div",Oe,[t(ke,{modelValue:e(y),"onUpdate:modelValue":p[1]||(p[1]=R=>ne(y)?y.value=R:null),onOnChange:e(E),onOnRect:m},null,8,["modelValue","onOnChange"])]),a("div",Ue,[t(x,{onClick:w,size:18},{default:n(()=>[t(e(de))]),_:1})]),a("div",De,[t(x,{onClick:d,size:18},{default:n(()=>[t(e(_e))]),_:1})]),a("div",je,[t(T,{trigger:"hover","popper-style":"min-width: auto;width: auto;padding: 0"},{reference:n(()=>{var R,j,N,H;return[a("div",Ne,[a("img",{src:(j=(R=e(_))==null?void 0:R.userInfo)==null?void 0:j.avatarUrl},null,8,He),a("span",null,A(((H=(N=e(_))==null?void 0:N.userInfo)==null?void 0:H.username)??"-"),1),t(x,null,{default:n(()=>[t(e(me))]),_:1})])]}),default:n(()=>[a("ul",Ke,[a("li",{onClick:f},[t(x,{size:14},{default:n(()=>[t(e(pe))]),_:1}),Ge]),a("li",{onClick:o},[t(x,{size:14},{default:n(()=>[t(e(fe))]),_:1}),Je]),a("li",{onClick:u},[t(x,{size:14},{default:n(()=>[t(e(he))]),_:1}),Qe])])]),_:1})])])]),t(I,{title:"设置",size:520,name:"setting-drawer"},{default:n(()=>[t(ye)]),_:1})],64)}}},Ye=V(We,[["__scopeId","data-v-371f76f3"]]);const Xe=h=>(W("data-v-8c2821a7"),h=h(),Y(),h),Ze=Xe(()=>a("span",null,"学习使用，联系方式：2735238097@qq.com",-1)),et={__name:"index",setup(h){const r=window.version;return(_,g)=>(l(),S("footer",null,[Ze,a("span",null,"当前版本："+A(e(r)),1)]))}},tt=V(et,[["__scopeId","data-v-8c2821a7"]]);const nt={class:"tabs"},st={class:"tabs-left"},ot={key:0,class:"tabs-right"},lt=O({name:"tabs"}),at=Object.assign(lt,{setup(h){const r=L(),_=B(),g=P(),v=F(r.fullPath),i=C(()=>g.keepAliveInclude),y=m=>{g.setSingleState("keepAliveInclude",m||i.value)},c=m=>{_.push((m==null?void 0:m.paneName)||v.value)},w=m=>{if(i.value.length<=1)return;let d=i.value.filter(f=>f.fullPath!==m);if(v.value==m){let f=i.value.findIndex(o=>o.fullPath==m);v.value=i.value[f-1].fullPath,c()}y(d)},E=()=>{let m=i.value.filter(d=>d.fullPath==v.value);y(m)};return _.afterEach(m=>v.value=m.fullPath),(m,d)=>{const f=b("el-tab-pane"),o=b("el-tabs"),u=b("el-button");return l(),S("div",nt,[a("div",st,[t(o,{modelValue:v.value,"onUpdate:modelValue":d[0]||(d[0]=s=>v.value=s),type:"card",closable:e(i).length>1,onTabClick:c,onTabRemove:w},{default:n(()=>[(l(!0),S(M,null,U(e(i),s=>(l(),k(f,{label:s.label,key:s.fullPath,name:s.fullPath},null,8,["label","name"]))),128))]),_:1},8,["modelValue","closable"])]),e(i).length>1?(l(),S("div",ot,[t(u,{type:"primary",text:"",onClick:E},{default:n(()=>[z("清空")]),_:1})])):$("",!0)])}}}),ct=V(at,[["__scopeId","data-v-9b508b55"]]),ut={__name:"index",setup(h){const r=L();return(_,g)=>{const v=b("el-breadcrumb-item"),i=b("el-breadcrumb");return l(),k(i,{class:"c-breadcrumb"},{default:n(()=>[(l(!0),S(M,null,U(e(r).meta.currentCrumb,(y,c)=>(l(),k(v,{key:c},{default:n(()=>[z(A(y.title),1)]),_:2},1024))),128))]),_:1})}}};const rt={class:"layout"},it={class:"article"},dt={key:0,class:"article-tabs"},_t={__name:"index",setup(h){const r=P(),_=B(),g=L(),v=C(()=>r.keepAliveInclude.filter(f=>f.keepAlive).map(f=>f.name)||[]),i=C(()=>r.keepAliveIncludeMax||0),y=C(()=>!!r.isTabs),c=C(()=>!!r.isBreadcrumb),w=F(),E=()=>{_.back()},m=d=>{var s,p;let f=r.keepAliveInclude,o=f.findIndex(x=>x.path==d.path),u={label:(s=d.meta)==null?void 0:s.title,path:d.path,fullPath:d.fullPath,name:d.name,keepAlive:!!((p=d.meta)!=null&&p.keepAlive)};o==-1?f.push(u):f[o]=u,r.setSingleState("keepAliveInclude",f)};return m(g),_.afterEach(d=>{w.value&&w.value.scrollTo({top:0,left:0,behavior:"smooth"}),d.path!="/login"&&d.path!="/"&&m(d)}),(d,f)=>{const o=b("el-button"),u=b("router-view");return l(),S("div",rt,[t(Ve),a("div",it,[t(Ye,null,se({_:2},[e(c)?{name:"breadcrumb",fn:n(()=>[t(ut)]),key:"0"}:void 0]),1024),e(y)?(l(),S("div",dt,[e(g).meta.menu==!1?(l(),k(o,{key:0,class:"article-tabs__back",type:"primary",text:"",icon:e(xe),onClick:E},{default:n(()=>[z(" 返回 ")]),_:1},8,["icon"])):$("",!0),t(ct)])):$("",!0),a("section",{class:"article-view",ref_key:"routerViewRef",ref:w},[t(u,null,{default:n(({Component:s})=>[t(oe,{name:`slide-${e(r).transitionSlide}`,mode:"out-in"},{default:n(()=>[(l(),k(le,{include:e(v),max:e(i)},[(l(),k(q(s)))],1032,["include","max"]))]),_:2},1032,["name"])]),_:1}),t(tt)],512)])])}}},Tt=V(_t,[["__scopeId","data-v-eef405f1"]]);export{Tt as default};
